!function(){"use strict";class e{constructor(e,t){this._form=t,this._inputSelector=e.inputSelector,this._submitButtonSelector=e.submitButtonSelector,this._inactiveButtonClass=e.inactiveButtonClass,this._inputErrorClass=e.inputErrorClass,this._errorClass=e.errorClass,this._errorList=e.errorList,this._inputElements=Array.from(this._form.querySelectorAll(this._inputSelector)),this._submitButton=this._form.querySelector(this._submitButtonSelector)}_showInputError(e){this._errorMessageElement=this._form.querySelector(`#${e.id}-error`),e.classList.add(this._inputErrorClass),this._errorMessageElement.textContent=e.validationMessage,this._errorMessageElement.classList.add(this._errorClass)}_hideInputError(e){this._errorMessageElement=this._form.querySelector(`#${e.id}-error`),e.classList.remove(this._inputErrorClass),this._errorMessageElement.textContent="",this._errorMessageElement.classList.remove(this._errorClass)}_checkInputValidity(e){e.validity.valid?this._hideInputError(e):this._showInputError(e)}_hasInvalidInput(){return Array.from(this._inputElements).some((e=>!e.validity.valid))}_toggleButtonState(){this._hasInvalidInput()?(this._submitButton.classList.add(this._inactiveButtonClass),this._submitButton.disabled=!0):(this._submitButton.classList.remove(this._inactiveButtonClass),this._submitButton.disabled=!1)}_setEventListeners(){this._inputElements.forEach((e=>{e.addEventListener("input",(t=>{this._checkInputValidity(e),this._toggleButtonState()}))}))}enableValidation(){this._form.addEventListener("submit",(e=>{e.preventDefault()})),this._setEventListeners()}resetValidation(){this._form.reset(),this._toggleButtonState(),this._inputElements.forEach((e=>{this._hideInputError(e)}))}}class t{constructor(e,t,r,s,n,a,o){this._name=e.name,this._link=e.link,this._id=e._id,this._cardSelector=t,this._data=e,this._handleImageClick=r,this._handleDeleteButtonClick=a,this._handleLikeCard=s,this._handleUnlikeCard=n,this._currentUserId=o,this._cardElement=this._getTemplate()}_getTemplate(){const e=document.querySelector(this._cardSelector).content.querySelector(".card").cloneNode(!0);return this._likeButton=e.querySelector(".card__like-button"),this._deleteButton=e.querySelector(".card__delete-button"),this._cardImageEl=e.querySelector(".card__image"),this._deleteButton.addEventListener("click",(()=>{this._handleDeleteButtonClick(this._id)})),e}_setEventListeners(){this._likeButton.addEventListener("click",(()=>{this._handleLikeButton()})),this._cardImageEl.addEventListener("click",(()=>{this._handleImageClick(this._data)}))}_handleLikeButton(){(this._likeButton.classList.contains("card__like-button-active")?this._handleUnlikeCard:this._handleLikeCard)(this._id).then((()=>{this._likeButton.classList.toggle("card__like-button-active")})).catch((e=>{console.error(`Error handling like action: ${e}`)}))}getView(){return this._element=this._cardElement,this._element.setAttribute("data-id",this._id),this._element.querySelector(".card__title").textContent=this._name,this._cardImageEl.src=this._link,this._cardImageEl.alt=this._name,this._setEventListeners(),this._element}}class r{constructor(e){let{modalSelector:t}=e;this._modalElement=document.querySelector(t),this._closeButton=this._modalElement.querySelector(".modal__close"),this._handleEscapeKey=this._handleEscapeKey.bind(this)}open(){this._modalElement.classList.add("modal_opened"),document.addEventListener("keydown",this._handleEscapeKey)}close(){this._modalElement.classList.remove("modal_opened"),document.removeEventListener("keydown",this._handleEscapeKey)}_handleEscapeKey(e){"Escape"===e.key&&this.close()}_setEventListeners(){this._modalElement.addEventListener("click",(e=>{e.target.classList.contains("modal_opened")&&this.close()})),this._closeButton.addEventListener("click",(()=>{this.close()}))}}class s extends r{constructor(e,t){super({modalSelector:e}),this._modalForm=this._modalElement.querySelector(".modal__form"),this._handleFormSubmit=t,this._inputElements=this._modalForm.querySelectorAll(".modal__input")}_getInputValues(){const e={};return this._inputElements.forEach((t=>{e[t.name]=t.value})),e}setEventListeners(){super._setEventListeners(),this._modalForm.addEventListener("submit",(e=>{e.preventDefault(),this._handleFormSubmit(this._getInputValues())}))}}const n=document.querySelectorAll(".modal__form"),a=document.querySelector("#profile__edit-button-js"),o=(document.forms["profile-edit-form"],document.querySelector("#profile__add-button-js")),i={formSelector:".modal__form",inputSelector:".modal__input",submitButtonSelector:".modal__button",inactiveButtonClass:"modal__button_disabled",inputErrorClass:"modal__input_type_error",errorClass:"modal__error_visible",errorList:"modal__error"},l=document.querySelector("[name='name']"),d=document.querySelector("[name='about']"),c=document.querySelector(".profile__avatar"),h=document.querySelector("#avatar-edit-modal .modal__button"),_=document.querySelector("#profile-edit-modal .modal__button"),u=document.querySelector("#add-button-modal .modal__button"),m=new class{constructor(e){this._baseUrl=e.baseUrl,this._headers=e.headers}_checkResponse(e){return e.ok?e.json():Promise.reject(`Error: ${e.status}`)}getUserInfoAndCards(){return Promise.all([this.getUserInfo(),this.getInitialCards()])}getInitialCards(){return fetch(`${this._baseUrl}/cards`,{headers:this._headers}).then(this._checkResponse)}createCard(e){return fetch(`${this._baseUrl}/cards`,{method:"POST",headers:this._headers,body:JSON.stringify(e)}).then(this._checkResponse)}deleteCard(e){return fetch(`${this._baseUrl}/cards/${e}`,{method:"DELETE",headers:this._headers}).then(this._checkResponse)}likeCard(e){return fetch(`${this._baseUrl}/cards/${e}/likes`,{method:"PUT",headers:this._headers}).then(this._checkResponse)}unlikeCard(e){return fetch(`${this._baseUrl}/cards/${e}/likes`,{method:"DELETE",headers:this._headers}).then(this._checkResponse)}getUserInfo(){return fetch(`${this._baseUrl}/users/me`,{method:"GET",headers:this._headers}).then(this._checkResponse)}updateUserInfo(e){return fetch(`${this._baseUrl}/users/me`,{method:"PATCH",headers:this._headers,body:JSON.stringify(e)}).then(this._checkResponse)}updateUserAvatar(e){return fetch(`${this._baseUrl}/users/me/avatar`,{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e})}).then(this._checkResponse)}}({baseUrl:"https://around-api.en.tripleten-services.com/v1",headers:{authorization:"a44aa497-1b5c-4737-a030-aa953cdc7c47","Content-Type":"application/json"}}),E=new class{constructor(e,t){let{items:r,renderer:s}=e;this._renderItems=r,this._renderer=s,this._container=document.querySelector(t)}renderItems(e){e.reverse().forEach((e=>{this._renderer(e)}))}addItem(e){this._container.prepend(e)}getItem(e){return this._renderItems.find((t=>t.id===e))}}({items:[],renderer:function(e){const t=y(e);E.addItem(t)}},".cards__list"),p=new s("#profile-edit-modal",(function(e){_.textContent="Saving...";const t={name:e.name,about:e.about};m.updateUserInfo(t).then((e=>{b.setUserInfo(e),p.close()})).catch((e=>{console.error("Error updating user information:",e)})).finally((()=>{_.textContent="Save"}))}));p.setEventListeners();const v=new s("#add-button-modal",(function(e){u.textContent="Saving...";const t={name:e.title,link:e.image};m.createCard(t).then((e=>{E.addItem(y(e)),v.close()})).catch((e=>{console.error("Error creating card:",e)})).finally((()=>{u.textContent="Create"}))}));v.setEventListeners();const f=new class extends r{constructor(e){super({modalSelector:e}),this._modalImage=this._modalElement.querySelector(".modal__image"),this._modalImageCaption=this._modalElement.querySelector(".modal__caption")}open(e){this._modalImage.src=e.link,this._modalImage.alt=e.name,this._modalImageCaption.textContent=e.name,super.open()}setEventListeners(){super._setEventListeners(),this._modalImage.addEventListener("submit",(e=>{e.preventDefault()}))}}("#preview-image-modal");f.setEventListeners();const g=new class extends r{constructor(e,t){super({modalSelector:e}),this._modalForm=this._modalElement.querySelector(".modal__form"),this._inputElement=this._modalForm.querySelector("#avatar-image-input"),this._errorElement=this._modalForm.querySelector("#avatar-image-input-error"),this._handleAvatarImageSubmit=t}setEventListeners(){super._setEventListeners(),document.querySelector(".profile__avatar-button").addEventListener("click",(()=>{console.log("Avatar button clicked"),this.open()})),this._modalForm.addEventListener("submit",(e=>{e.preventDefault();const t=this._inputElement.value.trim();t?(this._handleAvatarImageSubmit({avatar:t}),this.close()):console.error("Avatar URL is required.")}))}}("#avatar-edit-modal",(function(e){h&&(h.textContent="Saving...");const t=e.avatar;t?m.updateUserAvatar(t).then((e=>{console.log("User avatar updated successfully:",e),b.setUserInfo({avatar:t}),g.close()})).catch((e=>{console.error("Error updating user avatar:",e)})).finally((()=>{h.textContent="Save"})):console.error("Avatar URL is required.")}));g.setEventListeners();const S=new class extends r{constructor(e,t){super({modalSelector:e}),this._handleDeleteCardSubmit=t,this._confirmButton=this._modalElement.querySelector(".modal__button")}setEventListeners(){super._setEventListeners(),this._confirmButton.addEventListener("click",(()=>{const e=this._modalElement.dataset.cardId;this._handleDeleteCardSubmit(e),this.close()}))}open(e){this._modalElement.dataset.cardId=e,super.open()}}("#delete-card-modal",(function(e){m.deleteCard(e).then((()=>{const t=document.querySelector(`[data-id='${e}']`);t&&t.remove()})).catch((e=>{console.error("Error deleting card:",e)}))}));S.setEventListeners();const b=new class{constructor(e){let{nameElementSelector:t,aboutElementSelector:r,avatarImageSelector:s}=e;this._nameElement=document.querySelector(t),this._aboutElement=document.querySelector(r),this._avatarImage=document.querySelector(s),this._avatarImage||console.error("Avatar image element not found.")}getUserInfo(){return{name:this._nameElement?.textContent||"",about:this._aboutElement?.textContent||""}}setUserInfo(e){let{name:t,about:r,avatar:s}=e;t&&(this._nameElement.textContent=t),r&&(this._aboutElement.textContent=r),s&&this._avatarImage&&(this._avatarImage.src=s)}getUserId(){return this._userId}}({nameElementSelector:".profile__title",aboutElementSelector:".profile__description",avatarImageSelector:".profile__avatar"});function y(e){return new t(e,"#card-template",(()=>{f.open(e)}),I,L,C,b.getUserId()).getView()}function I(e){return m.likeCard(e).catch((e=>{throw console.error(`Error liking card: ${e}`),e}))}function L(e){return m.unlikeCard(e).catch((e=>{throw console.error(`Error unliking card: ${e}`),e}))}function C(e){S.open(e)}document.addEventListener("DOMContentLoaded",(()=>{m.getUserInfoAndCards().then((e=>{let[t,r]=e;l.value=t.name||"",d.value=t.about||"",b.setUserInfo(t),E.renderItems(r)})).catch((e=>{console.error("Error fetching user info and cards:",e)}))})),a.addEventListener("click",(()=>{const e=b.getUserInfo();l.value=e.name.trim(),d.value=e.about.trim(),p.open()})),o.addEventListener("click",(()=>{v.open(),k["add-button-form"].resetValidation()})),c.addEventListener("click",(()=>{g.open()}));const k={};(t=>{t.forEach((t=>{const r=new e(i,t);return r.enableValidation(),k[t.getAttribute("id")]=r,k}))})(n)}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RSIsInNvdXJjZXMiOlsid2VicGFjazovL2Fyb3VuZC10aGUtdXMvLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL2Fyb3VuZC10aGUtdXMvLi9zcmMvY29tcG9uZW50cy9DYXJkLmpzIiwid2VicGFjazovL2Fyb3VuZC10aGUtdXMvLi9zcmMvY29tcG9uZW50cy9Nb2RhbC5qcyIsIndlYnBhY2s6Ly9hcm91bmQtdGhlLXVzLy4vc3JjL2NvbXBvbmVudHMvTW9kYWxXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly9hcm91bmQtdGhlLXVzLy4vc3JjL3V0aWxzL2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly9hcm91bmQtdGhlLXVzLy4vc3JjL3BhZ2VzL2luZGV4LmpzIiwid2VicGFjazovL2Fyb3VuZC10aGUtdXMvLi9zcmMvY29tcG9uZW50cy9BcGkuanMiLCJ3ZWJwYWNrOi8vYXJvdW5kLXRoZS11cy8uL3NyYy9jb21wb25lbnRzL1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vYXJvdW5kLXRoZS11cy8uL3NyYy9jb21wb25lbnRzL01vZGFsV2l0aEltYWdlLmpzIiwid2VicGFjazovL2Fyb3VuZC10aGUtdXMvLi9zcmMvY29tcG9uZW50cy9Nb2RhbEVkaXRBdmF0YXIuanMiLCJ3ZWJwYWNrOi8vYXJvdW5kLXRoZS11cy8uL3NyYy9jb21wb25lbnRzL01vZGFsRGVsZXRlQ2FyZC5qcyIsIndlYnBhY2s6Ly9hcm91bmQtdGhlLXVzLy4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgY2xhc3MgRm9ybVZhbGlkYXRvciB7XG4gIGNvbnN0cnVjdG9yKHNldHRpbmdzLCBmb3JtRWxlbWVudCkge1xuICAgIHRoaXMuX2Zvcm0gPSBmb3JtRWxlbWVudDtcbiAgICB0aGlzLl9pbnB1dFNlbGVjdG9yID0gc2V0dGluZ3MuaW5wdXRTZWxlY3RvcjtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3RvciA9IHNldHRpbmdzLnN1Ym1pdEJ1dHRvblNlbGVjdG9yO1xuICAgIHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MgPSBzZXR0aW5ncy5pbmFjdGl2ZUJ1dHRvbkNsYXNzO1xuICAgIHRoaXMuX2lucHV0RXJyb3JDbGFzcyA9IHNldHRpbmdzLmlucHV0RXJyb3JDbGFzcztcbiAgICB0aGlzLl9lcnJvckNsYXNzID0gc2V0dGluZ3MuZXJyb3JDbGFzcztcbiAgICB0aGlzLl9lcnJvckxpc3QgPSBzZXR0aW5ncy5lcnJvckxpc3Q7XG4gICAgdGhpcy5faW5wdXRFbGVtZW50cyA9IEFycmF5LmZyb20oXG4gICAgICB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5faW5wdXRTZWxlY3RvcilcbiAgICApO1xuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbiA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3Rvcih0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3Rvcik7XG4gIH1cblxuICBfc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50KSB7XG4gICAgdGhpcy5fZXJyb3JNZXNzYWdlRWxlbWVudCA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvcihcbiAgICAgIGAjJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYFxuICAgICk7XG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5faW5wdXRFcnJvckNsYXNzKTtcbiAgICB0aGlzLl9lcnJvck1lc3NhZ2VFbGVtZW50LnRleHRDb250ZW50ID0gaW5wdXRFbGVtZW50LnZhbGlkYXRpb25NZXNzYWdlO1xuICAgIHRoaXMuX2Vycm9yTWVzc2FnZUVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9lcnJvckNsYXNzKTtcbiAgfVxuXG4gIF9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpIHtcbiAgICB0aGlzLl9lcnJvck1lc3NhZ2VFbGVtZW50ID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKFxuICAgICAgYCMke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgXG4gICAgKTtcbiAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbnB1dEVycm9yQ2xhc3MpO1xuICAgIHRoaXMuX2Vycm9yTWVzc2FnZUVsZW1lbnQudGV4dENvbnRlbnQgPSBcIlwiO1xuICAgIHRoaXMuX2Vycm9yTWVzc2FnZUVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9lcnJvckNsYXNzKTtcbiAgfVxuXG4gIF9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbGVtZW50KSB7XG4gICAgaWYgKCFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQpIHtcbiAgICAgIHRoaXMuX3Nob3dJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XG4gICAgfVxuICB9XG5cbiAgX2hhc0ludmFsaWRJbnB1dCgpIHtcbiAgICByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLl9pbnB1dEVsZW1lbnRzKS5zb21lKFxuICAgICAgKGlucHV0RWxlbWVudCkgPT4gIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZFxuICAgICk7XG4gIH1cblxuICBfdG9nZ2xlQnV0dG9uU3RhdGUoKSB7XG4gICAgaWYgKHRoaXMuX2hhc0ludmFsaWRJbnB1dCgpKSB7XG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b24uY2xhc3NMaXN0LmFkZCh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcbiAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xuICAgICAgdGhpcy5fc3VibWl0QnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX2lucHV0RWxlbWVudHMuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgICBpbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsIChlKSA9PiB7XG4gICAgICAgIHRoaXMuX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsZW1lbnQpO1xuICAgICAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBlbmFibGVWYWxpZGF0aW9uKCkge1xuICAgIHRoaXMuX2Zvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZSkgPT4ge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH0pO1xuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XG4gIH1cblxuICByZXNldFZhbGlkYXRpb24oKSB7XG4gICAgdGhpcy5fZm9ybS5yZXNldCgpO1xuICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XG4gICAgdGhpcy5faW5wdXRFbGVtZW50cy5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XG4gICAgfSk7XG4gIH1cbn1cbiIsIi8vIGV4cG9ydCBkZWZhdWx0IGNsYXNzIENhcmQge1xuLy8gICBjb25zdHJ1Y3Rvcihcbi8vICAgICBkYXRhLFxuLy8gICAgIGNhcmRTZWxlY3Rvcixcbi8vICAgICBoYW5kbGVJbWFnZUNsaWNrLFxuLy8gICAgIGhhbmRsZUxpa2VDYXJkLFxuLy8gICAgIGhhbmRsZVVubGlrZUNhcmQsXG4vLyAgICAgaGFuZGxlRGVsZXRlQnV0dG9uQ2xpY2ssXG4vLyAgICAgY3VycmVudFVzZXJJZFxuLy8gICApIHtcbi8vICAgICB0aGlzLl9uYW1lID0gZGF0YS5uYW1lO1xuLy8gICAgIHRoaXMuX2xpbmsgPSBkYXRhLmxpbms7XG4vLyAgICAgdGhpcy5faWQgPSBkYXRhLl9pZDtcbi8vICAgICB0aGlzLl9jYXJkU2VsZWN0b3IgPSBjYXJkU2VsZWN0b3I7XG4vLyAgICAgdGhpcy5fZGF0YSA9IGRhdGE7XG4vLyAgICAgdGhpcy5faGFuZGxlSW1hZ2VDbGljayA9IGhhbmRsZUltYWdlQ2xpY2s7XG4vLyAgICAgdGhpcy5faGFuZGxlRGVsZXRlQnV0dG9uQ2xpY2sgPSBoYW5kbGVEZWxldGVCdXR0b25DbGljaztcbi8vICAgICB0aGlzLl9oYW5kbGVMaWtlQ2FyZCA9IGhhbmRsZUxpa2VDYXJkO1xuLy8gICAgIHRoaXMuX2hhbmRsZVVubGlrZUNhcmQgPSBoYW5kbGVVbmxpa2VDYXJkO1xuLy8gICAgIHRoaXMuX2N1cnJlbnRVc2VySWQgPSBjdXJyZW50VXNlcklkO1xuLy8gICAgIHRoaXMuX2NhcmRFbGVtZW50ID0gdGhpcy5fZ2V0VGVtcGxhdGUoKTtcbi8vICAgfVxuXG4vLyAgIF9nZXRUZW1wbGF0ZSgpIHtcbi8vICAgICBjb25zdCB0ZW1wbGF0ZSA9IGRvY3VtZW50XG4vLyAgICAgICAucXVlcnlTZWxlY3Rvcih0aGlzLl9jYXJkU2VsZWN0b3IpXG4vLyAgICAgICAuY29udGVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRcIilcbi8vICAgICAgIC5jbG9uZU5vZGUodHJ1ZSk7XG4vLyAgICAgdGhpcy5fbGlrZUJ1dHRvbiA9IHRlbXBsYXRlLnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fbGlrZS1idXR0b25cIik7XG4vLyAgICAgdGhpcy5fZGVsZXRlQnV0dG9uID0gdGVtcGxhdGUucXVlcnlTZWxlY3RvcihcIi5jYXJkX19kZWxldGUtYnV0dG9uXCIpO1xuLy8gICAgIHRoaXMuX2NhcmRJbWFnZUVsID0gdGVtcGxhdGUucXVlcnlTZWxlY3RvcihcIi5jYXJkX19pbWFnZVwiKTtcblxuLy8gICAgIHRoaXMuX2RlbGV0ZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuLy8gICAgICAgdGhpcy5faGFuZGxlRGVsZXRlQnV0dG9uQ2xpY2sodGhpcy5faWQpO1xuLy8gICAgIH0pO1xuXG4vLyAgICAgcmV0dXJuIHRlbXBsYXRlO1xuLy8gICB9XG5cbi8vICAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xuLy8gICAgIHRoaXMuX2xpa2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbi8vICAgICAgIHRoaXMuX2hhbmRsZUxpa2VCdXR0b24oKTtcbi8vICAgICB9KTtcbi8vICAgICB0aGlzLl9jYXJkSW1hZ2VFbC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuLy8gICAgICAgdGhpcy5faGFuZGxlSW1hZ2VDbGljayh0aGlzLl9kYXRhKTtcbi8vICAgICB9KTtcbi8vICAgfVxuXG4vLyAgIF9oYW5kbGVMaWtlQnV0dG9uKCkge1xuLy8gICAgIGlmICh0aGlzLl9pc0xpa2VkKSB7XG4vLyAgICAgICB0aGlzLl9oYW5kbGVVbmxpa2VDYXJkKHRoaXMuX2lkKVxuLy8gICAgICAgICAudGhlbigoKSA9PiB7XG4vLyAgICAgICAgICAgdGhpcy5faXNMaWtlZCA9IGZhbHNlO1xuLy8gICAgICAgICAgIHRoaXMuX3VwZGF0ZUxpa2VTdGF0dXMoKTtcbi8vICAgICAgICAgfSlcbi8vICAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcbi8vICAgICAgICAgICBjb25zb2xlLmVycm9yKGBFcnJvciB1bmxpa2luZyBjYXJkOiAke2Vycn1gKTtcbi8vICAgICAgICAgfSk7XG4vLyAgICAgfSBlbHNlIHtcbi8vICAgICAgIHRoaXMuX2hhbmRsZUxpa2VDYXJkKHRoaXMuX2lkKVxuLy8gICAgICAgICAudGhlbigoKSA9PiB7XG4vLyAgICAgICAgICAgdGhpcy5faXNMaWtlZCA9IHRydWU7XG4vLyAgICAgICAgICAgdGhpcy5fdXBkYXRlTGlrZVN0YXR1cygpO1xuLy8gICAgICAgICB9KVxuLy8gICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xuLy8gICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIGxpa2luZyBjYXJkOiAke2Vycn1gKTtcbi8vICAgICAgICAgfSk7XG4vLyAgICAgfVxuLy8gICB9XG5cbi8vICAgX3VwZGF0ZUxpa2VTdGF0dXMoKSB7XG4vLyAgICAgaWYgKHRoaXMuX2xpa2VCdXR0b24pIHtcbi8vICAgICAgIGlmICh0aGlzLl9pc0xpa2VkKSB7XG4vLyAgICAgICAgIHRoaXMuX2xpa2VCdXR0b24uY2xhc3NMaXN0LmFkZChcImNhcmRfX2xpa2UtYnV0dG9uLWFjdGl2ZVwiKTtcbi8vICAgICAgIH0gZWxzZSB7XG4vLyAgICAgICAgIHRoaXMuX2xpa2VCdXR0b24uY2xhc3NMaXN0LnJlbW92ZShcImNhcmRfX2xpa2UtYnV0dG9uLWFjdGl2ZVwiKTtcbi8vICAgICAgIH1cbi8vICAgICB9IGVsc2Uge1xuLy8gICAgICAgY29uc29sZS5lcnJvcihcIkxpa2UgYnV0dG9uIG5vdCBmb3VuZC5cIik7XG4vLyAgICAgfVxuLy8gICB9XG5cbi8vICAgZ2V0VmlldygpIHtcbi8vICAgICB0aGlzLl9lbGVtZW50ID0gdGhpcy5fY2FyZEVsZW1lbnQ7XG4vLyAgICAgdGhpcy5fZWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJkYXRhLWlkXCIsIHRoaXMuX2lkKTtcbi8vICAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fdGl0bGVcIikudGV4dENvbnRlbnQgPSB0aGlzLl9uYW1lO1xuLy8gICAgIHRoaXMuX2NhcmRJbWFnZUVsLnNyYyA9IHRoaXMuX2xpbms7XG4vLyAgICAgdGhpcy5fY2FyZEltYWdlRWwuYWx0ID0gdGhpcy5fbmFtZTtcbi8vICAgICB0aGlzLl91cGRhdGVMaWtlU3RhdHVzKCk7XG4vLyAgICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbi8vICAgICB0aGlzLl91cGRhdGVMaWtlU3RhdHVzKCk7XG5cbi8vICAgICByZXR1cm4gdGhpcy5fZWxlbWVudDtcbi8vICAgfVxuLy8gfVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDYXJkIHtcbiAgY29uc3RydWN0b3IoXG4gICAgZGF0YSxcbiAgICBjYXJkU2VsZWN0b3IsXG4gICAgaGFuZGxlSW1hZ2VDbGljayxcbiAgICBoYW5kbGVMaWtlQ2FyZCxcbiAgICBoYW5kbGVVbmxpa2VDYXJkLFxuICAgIGhhbmRsZURlbGV0ZUJ1dHRvbkNsaWNrLFxuICAgIGN1cnJlbnRVc2VySWRcbiAgKSB7XG4gICAgdGhpcy5fbmFtZSA9IGRhdGEubmFtZTtcbiAgICB0aGlzLl9saW5rID0gZGF0YS5saW5rO1xuICAgIHRoaXMuX2lkID0gZGF0YS5faWQ7XG4gICAgdGhpcy5fY2FyZFNlbGVjdG9yID0gY2FyZFNlbGVjdG9yO1xuICAgIHRoaXMuX2RhdGEgPSBkYXRhO1xuICAgIHRoaXMuX2hhbmRsZUltYWdlQ2xpY2sgPSBoYW5kbGVJbWFnZUNsaWNrO1xuICAgIHRoaXMuX2hhbmRsZURlbGV0ZUJ1dHRvbkNsaWNrID0gaGFuZGxlRGVsZXRlQnV0dG9uQ2xpY2s7XG4gICAgdGhpcy5faGFuZGxlTGlrZUNhcmQgPSBoYW5kbGVMaWtlQ2FyZDtcbiAgICB0aGlzLl9oYW5kbGVVbmxpa2VDYXJkID0gaGFuZGxlVW5saWtlQ2FyZDtcbiAgICB0aGlzLl9jdXJyZW50VXNlcklkID0gY3VycmVudFVzZXJJZDtcbiAgICB0aGlzLl9jYXJkRWxlbWVudCA9IHRoaXMuX2dldFRlbXBsYXRlKCk7XG4gIH1cblxuICBfZ2V0VGVtcGxhdGUoKSB7XG4gICAgY29uc3QgdGVtcGxhdGUgPSBkb2N1bWVudFxuICAgICAgLnF1ZXJ5U2VsZWN0b3IodGhpcy5fY2FyZFNlbGVjdG9yKVxuICAgICAgLmNvbnRlbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkXCIpXG4gICAgICAuY2xvbmVOb2RlKHRydWUpO1xuICAgIHRoaXMuX2xpa2VCdXR0b24gPSB0ZW1wbGF0ZS5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2xpa2UtYnV0dG9uXCIpO1xuICAgIHRoaXMuX2RlbGV0ZUJ1dHRvbiA9IHRlbXBsYXRlLnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fZGVsZXRlLWJ1dHRvblwiKTtcbiAgICB0aGlzLl9jYXJkSW1hZ2VFbCA9IHRlbXBsYXRlLnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9faW1hZ2VcIik7XG5cbiAgICB0aGlzLl9kZWxldGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIHRoaXMuX2hhbmRsZURlbGV0ZUJ1dHRvbkNsaWNrKHRoaXMuX2lkKTtcbiAgICB9KTtcblxuICAgIHJldHVybiB0ZW1wbGF0ZTtcbiAgfVxuXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLl9saWtlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICB0aGlzLl9oYW5kbGVMaWtlQnV0dG9uKCk7XG4gICAgfSk7XG4gICAgdGhpcy5fY2FyZEltYWdlRWwuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIHRoaXMuX2hhbmRsZUltYWdlQ2xpY2sodGhpcy5fZGF0YSk7XG4gICAgfSk7XG4gIH1cblxuICBfaGFuZGxlTGlrZUJ1dHRvbigpIHtcbiAgICBjb25zdCBpc0xpa2VkID0gdGhpcy5fbGlrZUJ1dHRvbi5jbGFzc0xpc3QuY29udGFpbnMoXG4gICAgICBcImNhcmRfX2xpa2UtYnV0dG9uLWFjdGl2ZVwiXG4gICAgKTtcbiAgICBjb25zdCBsaWtlQWN0aW9uID0gaXNMaWtlZCA/IHRoaXMuX2hhbmRsZVVubGlrZUNhcmQgOiB0aGlzLl9oYW5kbGVMaWtlQ2FyZDtcbiAgICBjb25zdCBjYXJkSWQgPSB0aGlzLl9pZDtcblxuICAgIGxpa2VBY3Rpb24oY2FyZElkKVxuICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAvLyBBc3N1bWluZyB0aGUgVUkgc2hvdWxkIHJlZmxlY3QgdGhlIEFQSSdzIHJlc3BvbnNlXG4gICAgICAgIHRoaXMuX2xpa2VCdXR0b24uY2xhc3NMaXN0LnRvZ2dsZShcImNhcmRfX2xpa2UtYnV0dG9uLWFjdGl2ZVwiKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICBjb25zb2xlLmVycm9yKGBFcnJvciBoYW5kbGluZyBsaWtlIGFjdGlvbjogJHtlcnJ9YCk7XG4gICAgICB9KTtcbiAgfVxuXG4gIGdldFZpZXcoKSB7XG4gICAgdGhpcy5fZWxlbWVudCA9IHRoaXMuX2NhcmRFbGVtZW50O1xuICAgIHRoaXMuX2VsZW1lbnQuc2V0QXR0cmlidXRlKFwiZGF0YS1pZFwiLCB0aGlzLl9pZCk7XG4gICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX3RpdGxlXCIpLnRleHRDb250ZW50ID0gdGhpcy5fbmFtZTtcbiAgICB0aGlzLl9jYXJkSW1hZ2VFbC5zcmMgPSB0aGlzLl9saW5rO1xuICAgIHRoaXMuX2NhcmRJbWFnZUVsLmFsdCA9IHRoaXMuX25hbWU7XG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuICAgIHJldHVybiB0aGlzLl9lbGVtZW50O1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBNb2RhbCB7XG4gIGNvbnN0cnVjdG9yKHsgbW9kYWxTZWxlY3RvciB9KSB7XG4gICAgdGhpcy5fbW9kYWxFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihtb2RhbFNlbGVjdG9yKTtcbiAgICB0aGlzLl9jbG9zZUJ1dHRvbiA9IHRoaXMuX21vZGFsRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19jbG9zZVwiKTtcbiAgICB0aGlzLl9oYW5kbGVFc2NhcGVLZXkgPSB0aGlzLl9oYW5kbGVFc2NhcGVLZXkuYmluZCh0aGlzKTtcbiAgfVxuXG4gIG9wZW4oKSB7XG4gICAgdGhpcy5fbW9kYWxFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJtb2RhbF9vcGVuZWRcIik7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjYXBlS2V5KTtcbiAgfVxuXG4gIGNsb3NlKCkge1xuICAgIHRoaXMuX21vZGFsRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwibW9kYWxfb3BlbmVkXCIpO1xuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUVzY2FwZUtleSk7XG4gIH1cblxuICBfaGFuZGxlRXNjYXBlS2V5KGUpIHtcbiAgICBpZiAoZS5rZXkgPT09IFwiRXNjYXBlXCIpIHtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICB9XG4gIH1cblxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5fbW9kYWxFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xuICAgICAgaWYgKGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcIm1vZGFsX29wZW5lZFwiKSkge1xuICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgdGhpcy5fY2xvc2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICB9KTtcbiAgfVxufVxuIiwiaW1wb3J0IE1vZGFsIGZyb20gXCIuL01vZGFsLmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1vZGFsV2l0aEZvcm0gZXh0ZW5kcyBNb2RhbCB7XG4gIGNvbnN0cnVjdG9yKG1vZGFsU2VsZWN0b3IsIGhhbmRsZUZvcm1TdWJtaXQpIHtcbiAgICBzdXBlcih7IG1vZGFsU2VsZWN0b3IgfSk7XG4gICAgdGhpcy5fbW9kYWxGb3JtID0gdGhpcy5fbW9kYWxFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2Zvcm1cIik7XG4gICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCA9IGhhbmRsZUZvcm1TdWJtaXQ7XG4gICAgdGhpcy5faW5wdXRFbGVtZW50cyA9IHRoaXMuX21vZGFsRm9ybS5xdWVyeVNlbGVjdG9yQWxsKFwiLm1vZGFsX19pbnB1dFwiKTtcbiAgfVxuXG4gIF9nZXRJbnB1dFZhbHVlcygpIHtcbiAgICBjb25zdCBpbnB1dFZhbHVlcyA9IHt9O1xuICAgIHRoaXMuX2lucHV0RWxlbWVudHMuZm9yRWFjaCgoaW5wdXQpID0+IHtcbiAgICAgIGlucHV0VmFsdWVzW2lucHV0Lm5hbWVdID0gaW5wdXQudmFsdWU7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gaW5wdXRWYWx1ZXM7XG4gIH1cblxuICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICBzdXBlci5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgICB0aGlzLl9tb2RhbEZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZSkgPT4ge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCh0aGlzLl9nZXRJbnB1dFZhbHVlcygpKTtcbiAgICB9KTtcbiAgfVxufVxuIiwiZXhwb3J0IGNvbnN0IGZvcm1MaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5tb2RhbF9fZm9ybVwiKTtcblxuZXhwb3J0IGNvbnN0IHByb2ZpbGVFZGl0QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcbiAgXCIjcHJvZmlsZV9fZWRpdC1idXR0b24tanNcIlxuKTtcblxuZXhwb3J0IGNvbnN0IHByb2ZpbGVFZGl0Rm9ybSA9IGRvY3VtZW50LmZvcm1zW1wicHJvZmlsZS1lZGl0LWZvcm1cIl07XG5cbmV4cG9ydCBjb25zdCBhZGRjcmVhdGVDYXJkQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcbiAgXCIjcHJvZmlsZV9fYWRkLWJ1dHRvbi1qc1wiXG4pO1xuXG5leHBvcnQgY29uc3Qgc2V0dGluZ3MgPSB7XG4gIGZvcm1TZWxlY3RvcjogXCIubW9kYWxfX2Zvcm1cIixcbiAgaW5wdXRTZWxlY3RvcjogXCIubW9kYWxfX2lucHV0XCIsXG4gIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiBcIi5tb2RhbF9fYnV0dG9uXCIsXG4gIGluYWN0aXZlQnV0dG9uQ2xhc3M6IFwibW9kYWxfX2J1dHRvbl9kaXNhYmxlZFwiLFxuICBpbnB1dEVycm9yQ2xhc3M6IFwibW9kYWxfX2lucHV0X3R5cGVfZXJyb3JcIixcbiAgZXJyb3JDbGFzczogXCJtb2RhbF9fZXJyb3JfdmlzaWJsZVwiLFxuICBlcnJvckxpc3Q6IFwibW9kYWxfX2Vycm9yXCIsXG59O1xuXG5leHBvcnQgY29uc3QgbmFtZUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIltuYW1lPSduYW1lJ11cIik7XG5leHBvcnQgY29uc3QgYWJvdXRJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJbbmFtZT0nYWJvdXQnXVwiKTtcblxuZXhwb3J0IGNvbnN0IGF2YXRhckltYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19hdmF0YXJcIik7XG5cbmV4cG9ydCBjb25zdCBhdmF0YXJTYXZlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcbiAgXCIjYXZhdGFyLWVkaXQtbW9kYWwgLm1vZGFsX19idXR0b25cIlxuKTtcblxuZXhwb3J0IGNvbnN0IHByb2ZpbGVTYXZlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcbiAgXCIjcHJvZmlsZS1lZGl0LW1vZGFsIC5tb2RhbF9fYnV0dG9uXCJcbik7XG5cbmV4cG9ydCBjb25zdCBhZGRDYXJkU2F2ZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gIFwiI2FkZC1idXR0b24tbW9kYWwgLm1vZGFsX19idXR0b25cIlxuKTtcbiIsIi8vIElNUE9SVFNcbmltcG9ydCBcIi4vaW5kZXguY3NzXCI7XG5pbXBvcnQgRm9ybVZhbGlkYXRvciBmcm9tIFwiLi4vY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzXCI7XG5pbXBvcnQgU2VjdGlvbiBmcm9tIFwiLi4vY29tcG9uZW50cy9TZWN0aW9uLmpzXCI7XG5pbXBvcnQgQ2FyZCBmcm9tIFwiLi4vY29tcG9uZW50cy9DYXJkLmpzXCI7XG5pbXBvcnQgTW9kYWxXaXRoSW1hZ2UgZnJvbSBcIi4uL2NvbXBvbmVudHMvTW9kYWxXaXRoSW1hZ2UuanNcIjtcbmltcG9ydCBNb2RhbFdpdGhGb3JtIGZyb20gXCIuLi9jb21wb25lbnRzL01vZGFsV2l0aEZvcm0uanNcIjtcbmltcG9ydCBNb2RhbEVkaXRBdmF0YXIgZnJvbSBcIi4uL2NvbXBvbmVudHMvTW9kYWxFZGl0QXZhdGFyLmpzXCI7XG5pbXBvcnQgTW9kYWxEZWxldGVDYXJkIGZyb20gXCIuLi9jb21wb25lbnRzL01vZGFsRGVsZXRlQ2FyZC5qc1wiO1xuaW1wb3J0IFVzZXJJbmZvIGZyb20gXCIuLi9jb21wb25lbnRzL1VzZXJJbmZvLmpzXCI7XG5pbXBvcnQgQXBpIGZyb20gXCIuLi9jb21wb25lbnRzL0FwaS5qc1wiO1xuaW1wb3J0IHtcbiAgZm9ybUxpc3QsXG4gIHNldHRpbmdzLFxuICBwcm9maWxlRWRpdEJ1dHRvbixcbiAgYWRkY3JlYXRlQ2FyZEJ1dHRvbixcbiAgbmFtZUlucHV0LFxuICBhYm91dElucHV0LFxuICBhdmF0YXJJbWFnZSxcbiAgYXZhdGFyU2F2ZUJ1dHRvbixcbiAgcHJvZmlsZVNhdmVCdXR0b24sXG4gIGFkZENhcmRTYXZlQnV0dG9uLFxufSBmcm9tIFwiLi4vdXRpbHMvY29uc3RhbnRzLmpzXCI7XG5cbi8vIEFQSVxuXG5jb25zdCBhcGkgPSBuZXcgQXBpKHtcbiAgYmFzZVVybDogXCJodHRwczovL2Fyb3VuZC1hcGkuZW4udHJpcGxldGVuLXNlcnZpY2VzLmNvbS92MVwiLFxuICBoZWFkZXJzOiB7XG4gICAgYXV0aG9yaXphdGlvbjogXCJhNDRhYTQ5Ny0xYjVjLTQ3MzctYTAzMC1hYTk1M2NkYzdjNDdcIixcbiAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgfSxcbn0pO1xuXG4vLyBTRUNUSU9OIENMQVNTXG5cbmNvbnN0IGNhcmRzU2VjdGlvbiA9IG5ldyBTZWN0aW9uKFxuICB7XG4gICAgaXRlbXM6IFtdLFxuICAgIHJlbmRlcmVyOiByZW5kZXJDYXJkLFxuICB9LFxuICBcIi5jYXJkc19fbGlzdFwiXG4pO1xuXG4vLyBNT0RBTFNcblxuY29uc3QgcHJvZmlsZU1vZGFsID0gbmV3IE1vZGFsV2l0aEZvcm0oXG4gIFwiI3Byb2ZpbGUtZWRpdC1tb2RhbFwiLFxuICBoYW5kbGVQcm9maWxlRWRpdFN1Ym1pdFxuKTtcbnByb2ZpbGVNb2RhbC5zZXRFdmVudExpc3RlbmVycygpO1xuXG5jb25zdCBjYXJkTW9kYWwgPSBuZXcgTW9kYWxXaXRoRm9ybShcIiNhZGQtYnV0dG9uLW1vZGFsXCIsIGhhbmRsZUFkZENhcmRTdWJtaXQpO1xuY2FyZE1vZGFsLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbmNvbnN0IHByZXZpZXdJbWFnZU1vZGFsID0gbmV3IE1vZGFsV2l0aEltYWdlKFwiI3ByZXZpZXctaW1hZ2UtbW9kYWxcIik7XG5wcmV2aWV3SW1hZ2VNb2RhbC5zZXRFdmVudExpc3RlbmVycygpO1xuXG5jb25zdCBhdmF0YXJFZGl0TW9kYWwgPSBuZXcgTW9kYWxFZGl0QXZhdGFyKFxuICBcIiNhdmF0YXItZWRpdC1tb2RhbFwiLFxuICBoYW5kbGVBdmF0YXJJbWFnZVN1Ym1pdFxuKTtcbmF2YXRhckVkaXRNb2RhbC5zZXRFdmVudExpc3RlbmVycygpO1xuXG5jb25zdCBkZWxldGVDYXJkTW9kYWwgPSBuZXcgTW9kYWxEZWxldGVDYXJkKFxuICBcIiNkZWxldGUtY2FyZC1tb2RhbFwiLFxuICBoYW5kbGVEZWxldGVDYXJkXG4pO1xuZGVsZXRlQ2FyZE1vZGFsLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbi8vIFVTRVIgSU5GT1xuXG5jb25zdCB1c2VySW5mbyA9IG5ldyBVc2VySW5mbyh7XG4gIG5hbWVFbGVtZW50U2VsZWN0b3I6IFwiLnByb2ZpbGVfX3RpdGxlXCIsXG4gIGFib3V0RWxlbWVudFNlbGVjdG9yOiBcIi5wcm9maWxlX19kZXNjcmlwdGlvblwiLFxuICBhdmF0YXJJbWFnZVNlbGVjdG9yOiBcIi5wcm9maWxlX19hdmF0YXJcIixcbn0pO1xuXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLCAoKSA9PiB7XG4gIGFwaVxuICAgIC5nZXRVc2VySW5mb0FuZENhcmRzKClcbiAgICAudGhlbigoW3VzZXJEYXRhLCBpbml0aWFsQ2FyZHNdKSA9PiB7XG4gICAgICAvLyBpbml0aWFsQ2FyZHMgPSBpbml0aWFsQ2FyZHMubWFwKChjYXJkKSA9PiAoe1xuICAgICAgLy8gICAuLi5jYXJkLFxuICAgICAgLy8gICBsaWtlOiBjYXJkLmxpa2UsXG4gICAgICAvLyB9KSk7XG4gICAgICBuYW1lSW5wdXQudmFsdWUgPSB1c2VyRGF0YS5uYW1lIHx8IFwiXCI7XG4gICAgICBhYm91dElucHV0LnZhbHVlID0gdXNlckRhdGEuYWJvdXQgfHwgXCJcIjtcbiAgICAgIHVzZXJJbmZvLnNldFVzZXJJbmZvKHVzZXJEYXRhKTtcbiAgICAgIGNhcmRzU2VjdGlvbi5yZW5kZXJJdGVtcyhpbml0aWFsQ2FyZHMpO1xuICAgIH0pXG4gICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBmZXRjaGluZyB1c2VyIGluZm8gYW5kIGNhcmRzOlwiLCBlcnIpO1xuICAgIH0pO1xufSk7XG5cbi8vIEZVTkNUSU9OU1xuXG5mdW5jdGlvbiBjcmVhdGVDYXJkKGRhdGEpIHtcbiAgY29uc3QgY2FyZEVsZW1lbnQgPSBuZXcgQ2FyZChcbiAgICBkYXRhLFxuICAgIFwiI2NhcmQtdGVtcGxhdGVcIixcbiAgICAoKSA9PiB7XG4gICAgICBwcmV2aWV3SW1hZ2VNb2RhbC5vcGVuKGRhdGEpO1xuICAgIH0sXG4gICAgaGFuZGxlTGlrZUNhcmQsXG4gICAgaGFuZGxlVW5saWtlQ2FyZCxcbiAgICBoYW5kbGVEZWxldGVCdXR0b25DbGljayxcbiAgICB1c2VySW5mby5nZXRVc2VySWQoKVxuICApO1xuXG4gIHJldHVybiBjYXJkRWxlbWVudC5nZXRWaWV3KCk7XG59XG5cbmZ1bmN0aW9uIHJlbmRlckNhcmQoY2FyZERhdGEpIHtcbiAgY29uc3QgY2FyZEVsZW1lbnQgPSBjcmVhdGVDYXJkKGNhcmREYXRhKTtcbiAgY2FyZHNTZWN0aW9uLmFkZEl0ZW0oY2FyZEVsZW1lbnQpO1xufVxuXG4vLyBFVkVOVCBMSVNURU5FUlNcblxucHJvZmlsZUVkaXRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgY29uc3QgY3VycmVudFVzZXIgPSB1c2VySW5mby5nZXRVc2VySW5mbygpO1xuICBuYW1lSW5wdXQudmFsdWUgPSBjdXJyZW50VXNlci5uYW1lLnRyaW0oKTtcbiAgYWJvdXRJbnB1dC52YWx1ZSA9IGN1cnJlbnRVc2VyLmFib3V0LnRyaW0oKTtcblxuICBwcm9maWxlTW9kYWwub3BlbigpO1xufSk7XG5cbmFkZGNyZWF0ZUNhcmRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgY2FyZE1vZGFsLm9wZW4oKTtcbiAgZm9ybVZhbGlkYXRvcnNbXCJhZGQtYnV0dG9uLWZvcm1cIl0ucmVzZXRWYWxpZGF0aW9uKCk7XG59KTtcblxuYXZhdGFySW1hZ2UuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgYXZhdGFyRWRpdE1vZGFsLm9wZW4oKTtcbn0pO1xuXG4vLyBFVkVOVCBIQU5ETEVSU1xuXG4vLyBmdW5jdGlvbiBoYW5kbGVMaWtlQ2FyZChjYXJkSWQpIHtcbi8vICAgcmV0dXJuIGFwaVxuLy8gICAgIC5saWtlQ2FyZChjYXJkSWQpXG4vLyAgICAgLnRoZW4oKCkgPT4ge1xuLy8gICAgICAgY29uc3QgY2FyZCA9IGNhcmRzU2VjdGlvbi5nZXRJdGVtKGNhcmRJZCk7XG4vLyAgICAgICBpZiAoY2FyZCkge1xuLy8gICAgICAgICBjYXJkLl91cGRhdGVMaWtlU3RhdHVzKHRydWUpO1xuLy8gICAgICAgfVxuLy8gICAgIH0pXG4vLyAgICAgLmNhdGNoKChlcnIpID0+IHtcbi8vICAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIGxpa2luZyBjYXJkOiAke2Vycn1gKTtcbi8vICAgICB9KTtcbi8vIH1cblxuLy8gZnVuY3Rpb24gaGFuZGxlVW5saWtlQ2FyZChjYXJkSWQpIHtcbi8vICAgcmV0dXJuIGFwaVxuLy8gICAgIC51bmxpa2VDYXJkKGNhcmRJZClcbi8vICAgICAudGhlbigoKSA9PiB7XG4vLyAgICAgICBjb25zdCBjYXJkID0gY2FyZHNTZWN0aW9uLmdldEl0ZW0oY2FyZElkKTtcbi8vICAgICAgIGlmIChjYXJkKSB7XG4vLyAgICAgICAgIGNhcmQuX3VwZGF0ZUxpa2VTdGF0dXMoZmFsc2UpO1xuLy8gICAgICAgfVxuLy8gICAgIH0pXG4vLyAgICAgLmNhdGNoKChlcnIpID0+IHtcbi8vICAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIHVubGlraW5nIGNhcmQ6ICR7ZXJyfWApO1xuLy8gICAgIH0pO1xuLy8gfVxuXG5mdW5jdGlvbiBoYW5kbGVMaWtlQ2FyZChjYXJkSWQpIHtcbiAgcmV0dXJuIGFwaS5saWtlQ2FyZChjYXJkSWQpLmNhdGNoKChlcnIpID0+IHtcbiAgICBjb25zb2xlLmVycm9yKGBFcnJvciBsaWtpbmcgY2FyZDogJHtlcnJ9YCk7XG4gICAgdGhyb3cgZXJyOyAvLyBSZXRocm93IHRoZSBlcnJvciBmb3IgZnVydGhlciBoYW5kbGluZ1xuICB9KTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlVW5saWtlQ2FyZChjYXJkSWQpIHtcbiAgcmV0dXJuIGFwaS51bmxpa2VDYXJkKGNhcmRJZCkuY2F0Y2goKGVycikgPT4ge1xuICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIHVubGlraW5nIGNhcmQ6ICR7ZXJyfWApO1xuICAgIHRocm93IGVycjsgLy8gUmV0aHJvdyB0aGUgZXJyb3IgZm9yIGZ1cnRoZXIgaGFuZGxpbmdcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZURlbGV0ZUJ1dHRvbkNsaWNrKGNhcmRJZCkge1xuICBkZWxldGVDYXJkTW9kYWwub3BlbihjYXJkSWQpO1xufVxuXG5mdW5jdGlvbiBoYW5kbGVQcm9maWxlRWRpdFN1Ym1pdChpbnB1dFZhbHVlcykge1xuICBwcm9maWxlU2F2ZUJ1dHRvbi50ZXh0Q29udGVudCA9IFwiU2F2aW5nLi4uXCI7XG5cbiAgY29uc3QgdXBkYXRlZFVzZXJJbmZvID0ge1xuICAgIG5hbWU6IGlucHV0VmFsdWVzLm5hbWUsXG4gICAgYWJvdXQ6IGlucHV0VmFsdWVzLmFib3V0LFxuICB9O1xuXG4gIGFwaVxuICAgIC51cGRhdGVVc2VySW5mbyh1cGRhdGVkVXNlckluZm8pXG4gICAgLnRoZW4oKHVwZGF0ZWREYXRhKSA9PiB7XG4gICAgICB1c2VySW5mby5zZXRVc2VySW5mbyh1cGRhdGVkRGF0YSk7XG4gICAgICBwcm9maWxlTW9kYWwuY2xvc2UoKTtcbiAgICB9KVxuICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgdXBkYXRpbmcgdXNlciBpbmZvcm1hdGlvbjpcIiwgZXJyKTtcbiAgICB9KVxuICAgIC5maW5hbGx5KCgpID0+IHtcbiAgICAgIHByb2ZpbGVTYXZlQnV0dG9uLnRleHRDb250ZW50ID0gXCJTYXZlXCI7XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZUFkZENhcmRTdWJtaXQoaW5wdXRWYWx1ZXMpIHtcbiAgYWRkQ2FyZFNhdmVCdXR0b24udGV4dENvbnRlbnQgPSBcIlNhdmluZy4uLlwiO1xuICBjb25zdCBuYW1lID0gaW5wdXRWYWx1ZXMudGl0bGU7XG4gIGNvbnN0IGxpbmsgPSBpbnB1dFZhbHVlcy5pbWFnZTtcbiAgY29uc3QgZGF0YSA9IHsgbmFtZSwgbGluayB9O1xuXG4gIGFwaVxuICAgIC5jcmVhdGVDYXJkKGRhdGEpXG4gICAgLnRoZW4oKG5ld0NhcmQpID0+IHtcbiAgICAgIGNhcmRzU2VjdGlvbi5hZGRJdGVtKGNyZWF0ZUNhcmQobmV3Q2FyZCkpO1xuICAgICAgY2FyZE1vZGFsLmNsb3NlKCk7XG4gICAgfSlcbiAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGNyZWF0aW5nIGNhcmQ6XCIsIGVycik7XG4gICAgfSlcbiAgICAuZmluYWxseSgoKSA9PiB7XG4gICAgICBhZGRDYXJkU2F2ZUJ1dHRvbi50ZXh0Q29udGVudCA9IFwiQ3JlYXRlXCI7XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZURlbGV0ZUNhcmQoY2FyZElkKSB7XG4gIGFwaVxuICAgIC5kZWxldGVDYXJkKGNhcmRJZClcbiAgICAudGhlbigoKSA9PiB7XG4gICAgICBjb25zdCBjYXJkRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLWlkPScke2NhcmRJZH0nXWApO1xuICAgICAgaWYgKGNhcmRFbGVtZW50KSB7XG4gICAgICAgIGNhcmRFbGVtZW50LnJlbW92ZSgpO1xuICAgICAgfVxuICAgIH0pXG4gICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBkZWxldGluZyBjYXJkOlwiLCBlcnIpO1xuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBoYW5kbGVBdmF0YXJJbWFnZVN1Ym1pdChpbnB1dFZhbHVlcykge1xuICBpZiAoYXZhdGFyU2F2ZUJ1dHRvbikge1xuICAgIGF2YXRhclNhdmVCdXR0b24udGV4dENvbnRlbnQgPSBcIlNhdmluZy4uLlwiO1xuICB9XG5cbiAgY29uc3QgYXZhdGFyVXJsID0gaW5wdXRWYWx1ZXMuYXZhdGFyO1xuICBpZiAoYXZhdGFyVXJsKSB7XG4gICAgYXBpXG4gICAgICAudXBkYXRlVXNlckF2YXRhcihhdmF0YXJVcmwpXG4gICAgICAudGhlbigodXBkYXRlZERhdGEpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coXCJVc2VyIGF2YXRhciB1cGRhdGVkIHN1Y2Nlc3NmdWxseTpcIiwgdXBkYXRlZERhdGEpO1xuICAgICAgICB1c2VySW5mby5zZXRVc2VySW5mbyh7IGF2YXRhcjogYXZhdGFyVXJsIH0pO1xuICAgICAgICBhdmF0YXJFZGl0TW9kYWwuY2xvc2UoKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgdXBkYXRpbmcgdXNlciBhdmF0YXI6XCIsIGVycik7XG4gICAgICB9KVxuICAgICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgICBhdmF0YXJTYXZlQnV0dG9uLnRleHRDb250ZW50ID0gXCJTYXZlXCI7XG4gICAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBjb25zb2xlLmVycm9yKFwiQXZhdGFyIFVSTCBpcyByZXF1aXJlZC5cIik7XG4gIH1cbn1cblxuLy8gVkFMSURBVElPTlxuXG5jb25zdCBmb3JtVmFsaWRhdG9ycyA9IHt9O1xuY29uc3QgZW5hYmxlVmFsaWRhdGlvbiA9IChmb3JtTGlzdCkgPT4ge1xuICBmb3JtTGlzdC5mb3JFYWNoKChmb3JtKSA9PiB7XG4gICAgY29uc3QgZm9ybVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKHNldHRpbmdzLCBmb3JtKTtcbiAgICBmb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcbiAgICBmb3JtVmFsaWRhdG9yc1tmb3JtLmdldEF0dHJpYnV0ZShcImlkXCIpXSA9IGZvcm1WYWxpZGF0b3I7XG4gICAgcmV0dXJuIGZvcm1WYWxpZGF0b3JzO1xuICB9KTtcbn07XG5cbmVuYWJsZVZhbGlkYXRpb24oZm9ybUxpc3QpO1xuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXBpIHtcbiAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgIHRoaXMuX2Jhc2VVcmwgPSBvcHRpb25zLmJhc2VVcmw7XG4gICAgdGhpcy5faGVhZGVycyA9IG9wdGlvbnMuaGVhZGVycztcbiAgfVxuXG4gIF9jaGVja1Jlc3BvbnNlKHJlcykge1xuICAgIGlmIChyZXMub2spIHtcbiAgICAgIHJldHVybiByZXMuanNvbigpO1xuICAgIH1cbiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYEVycm9yOiAke3Jlcy5zdGF0dXN9YCk7XG4gIH1cblxuICBnZXRVc2VySW5mb0FuZENhcmRzKCkge1xuICAgIHJldHVybiBQcm9taXNlLmFsbChbdGhpcy5nZXRVc2VySW5mbygpLCB0aGlzLmdldEluaXRpYWxDYXJkcygpXSk7XG4gIH1cblxuICBnZXRJbml0aWFsQ2FyZHMoKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzYCwge1xuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICB9KS50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpO1xuICB9XG5cbiAgY3JlYXRlQ2FyZChjYXJkRGF0YSkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkc2AsIHtcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoY2FyZERhdGEpLFxuICAgIH0pLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSk7XG4gIH1cblxuICBkZWxldGVDYXJkKGNhcmRJZCkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkcy8ke2NhcmRJZH1gLCB7XG4gICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgIH0pLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSk7XG4gIH1cblxuICBsaWtlQ2FyZChjYXJkSWQpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvJHtjYXJkSWR9L2xpa2VzYCwge1xuICAgICAgbWV0aG9kOiBcIlBVVFwiLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICB9KS50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpO1xuICB9XG5cbiAgdW5saWtlQ2FyZChjYXJkSWQpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvJHtjYXJkSWR9L2xpa2VzYCwge1xuICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICB9KS50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpO1xuICB9XG5cbiAgZ2V0VXNlckluZm8oKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lYCwge1xuICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICB9KS50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpO1xuICB9XG5cbiAgdXBkYXRlVXNlckluZm8odXNlckluZm8pIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWVgLCB7XG4gICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh1c2VySW5mbyksXG4gICAgfSkudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKTtcbiAgfVxuXG4gIHVwZGF0ZVVzZXJBdmF0YXIoYXZhdGFyVXJsKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lL2F2YXRhcmAsIHtcbiAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgYXZhdGFyOiBhdmF0YXJVcmwgfSksXG4gICAgfSkudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKTtcbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VjdGlvbiB7XG4gIGNvbnN0cnVjdG9yKHsgaXRlbXMsIHJlbmRlcmVyIH0sIGNvbnRhaW5lclNlbGVjdG9yKSB7XG4gICAgdGhpcy5fcmVuZGVySXRlbXMgPSBpdGVtcztcbiAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xuICAgIHRoaXMuX2NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY29udGFpbmVyU2VsZWN0b3IpO1xuICB9XG5cbiAgcmVuZGVySXRlbXMoaXRlbXMpIHtcbiAgICBpdGVtcy5yZXZlcnNlKCkuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgdGhpcy5fcmVuZGVyZXIoaXRlbSk7XG4gICAgfSk7XG4gIH1cblxuICBhZGRJdGVtKGl0ZW0pIHtcbiAgICB0aGlzLl9jb250YWluZXIucHJlcGVuZChpdGVtKTtcbiAgfVxuXG4gIGdldEl0ZW0oaXRlbUlkKSB7XG4gICAgcmV0dXJuIHRoaXMuX3JlbmRlckl0ZW1zLmZpbmQoKGl0ZW0pID0+IGl0ZW0uaWQgPT09IGl0ZW1JZCk7XG4gIH1cbn1cbiIsImltcG9ydCBNb2RhbCBmcm9tIFwiLi9Nb2RhbC5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNb2RhbFdpdGhJbWFnZSBleHRlbmRzIE1vZGFsIHtcbiAgY29uc3RydWN0b3IobW9kYWxTZWxlY3Rvcikge1xuICAgIHN1cGVyKHsgbW9kYWxTZWxlY3RvciB9KTtcbiAgICB0aGlzLl9tb2RhbEltYWdlID0gdGhpcy5fbW9kYWxFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2ltYWdlXCIpO1xuICAgIHRoaXMuX21vZGFsSW1hZ2VDYXB0aW9uID1cbiAgICAgIHRoaXMuX21vZGFsRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19jYXB0aW9uXCIpO1xuICB9XG5cbiAgb3BlbihkYXRhKSB7XG4gICAgdGhpcy5fbW9kYWxJbWFnZS5zcmMgPSBkYXRhLmxpbms7XG4gICAgdGhpcy5fbW9kYWxJbWFnZS5hbHQgPSBkYXRhLm5hbWU7XG4gICAgdGhpcy5fbW9kYWxJbWFnZUNhcHRpb24udGV4dENvbnRlbnQgPSBkYXRhLm5hbWU7XG4gICAgc3VwZXIub3BlbigpO1xuICB9XG5cbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgc3VwZXIuX3NldEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgdGhpcy5fbW9kYWxJbWFnZS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChlKSA9PiB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgfSk7XG4gIH1cbn1cbiIsImltcG9ydCBNb2RhbCBmcm9tIFwiLi9Nb2RhbC5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNb2RhbEVkaXRBdmF0YXIgZXh0ZW5kcyBNb2RhbCB7XG4gIGNvbnN0cnVjdG9yKG1vZGFsU2VsZWN0b3IsIGhhbmRsZUF2YXRhckltYWdlU3VibWl0KSB7XG4gICAgc3VwZXIoeyBtb2RhbFNlbGVjdG9yIH0pO1xuICAgIHRoaXMuX21vZGFsRm9ybSA9IHRoaXMuX21vZGFsRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19mb3JtXCIpO1xuICAgIHRoaXMuX2lucHV0RWxlbWVudCA9IHRoaXMuX21vZGFsRm9ybS5xdWVyeVNlbGVjdG9yKFwiI2F2YXRhci1pbWFnZS1pbnB1dFwiKTtcbiAgICB0aGlzLl9lcnJvckVsZW1lbnQgPSB0aGlzLl9tb2RhbEZvcm0ucXVlcnlTZWxlY3RvcihcbiAgICAgIFwiI2F2YXRhci1pbWFnZS1pbnB1dC1lcnJvclwiXG4gICAgKTtcbiAgICB0aGlzLl9oYW5kbGVBdmF0YXJJbWFnZVN1Ym1pdCA9IGhhbmRsZUF2YXRhckltYWdlU3VibWl0O1xuICB9XG5cbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgc3VwZXIuX3NldEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgY29uc3QgYXZhdGFyQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19hdmF0YXItYnV0dG9uXCIpO1xuICAgIGF2YXRhckJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgY29uc29sZS5sb2coXCJBdmF0YXIgYnV0dG9uIGNsaWNrZWRcIik7XG4gICAgICB0aGlzLm9wZW4oKTtcbiAgICB9KTtcblxuICAgIHRoaXMuX21vZGFsRm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChldmVudCkgPT4ge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGNvbnN0IGF2YXRhclVybCA9IHRoaXMuX2lucHV0RWxlbWVudC52YWx1ZS50cmltKCk7XG4gICAgICBpZiAoYXZhdGFyVXJsKSB7XG4gICAgICAgIHRoaXMuX2hhbmRsZUF2YXRhckltYWdlU3VibWl0KHsgYXZhdGFyOiBhdmF0YXJVcmwgfSk7XG4gICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJBdmF0YXIgVVJMIGlzIHJlcXVpcmVkLlwiKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufVxuIiwiaW1wb3J0IE1vZGFsIGZyb20gXCIuL01vZGFsLmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1vZGFsRGVsZXRlQ2FyZCBleHRlbmRzIE1vZGFsIHtcbiAgY29uc3RydWN0b3IobW9kYWxTZWxlY3RvciwgaGFuZGxlRGVsZXRlQ2FyZFN1Ym1pdCkge1xuICAgIHN1cGVyKHsgbW9kYWxTZWxlY3RvciB9KTtcbiAgICB0aGlzLl9oYW5kbGVEZWxldGVDYXJkU3VibWl0ID0gaGFuZGxlRGVsZXRlQ2FyZFN1Ym1pdDtcbiAgICB0aGlzLl9jb25maXJtQnV0dG9uID0gdGhpcy5fbW9kYWxFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2J1dHRvblwiKTtcbiAgfVxuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHN1cGVyLl9zZXRFdmVudExpc3RlbmVycygpO1xuICAgIHRoaXMuX2NvbmZpcm1CdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIGNvbnN0IGNhcmRJZCA9IHRoaXMuX21vZGFsRWxlbWVudC5kYXRhc2V0LmNhcmRJZDtcbiAgICAgIHRoaXMuX2hhbmRsZURlbGV0ZUNhcmRTdWJtaXQoY2FyZElkKTtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICB9KTtcbiAgfVxuXG4gIG9wZW4oY2FyZElkVG9EZWxldGUpIHtcbiAgICB0aGlzLl9tb2RhbEVsZW1lbnQuZGF0YXNldC5jYXJkSWQgPSBjYXJkSWRUb0RlbGV0ZTtcbiAgICBzdXBlci5vcGVuKCk7XG4gIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzZXJJbmZvIHtcbiAgY29uc3RydWN0b3Ioe1xuICAgIG5hbWVFbGVtZW50U2VsZWN0b3IsXG4gICAgYWJvdXRFbGVtZW50U2VsZWN0b3IsXG4gICAgYXZhdGFySW1hZ2VTZWxlY3RvcixcbiAgfSkge1xuICAgIHRoaXMuX25hbWVFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihuYW1lRWxlbWVudFNlbGVjdG9yKTtcbiAgICB0aGlzLl9hYm91dEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGFib3V0RWxlbWVudFNlbGVjdG9yKTtcbiAgICB0aGlzLl9hdmF0YXJJbWFnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYXZhdGFySW1hZ2VTZWxlY3Rvcik7XG5cbiAgICBpZiAoIXRoaXMuX2F2YXRhckltYWdlKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiQXZhdGFyIGltYWdlIGVsZW1lbnQgbm90IGZvdW5kLlwiKTtcbiAgICB9XG4gIH1cblxuICBnZXRVc2VySW5mbygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbmFtZTogdGhpcy5fbmFtZUVsZW1lbnQ/LnRleHRDb250ZW50IHx8IFwiXCIsXG4gICAgICBhYm91dDogdGhpcy5fYWJvdXRFbGVtZW50Py50ZXh0Q29udGVudCB8fCBcIlwiLFxuICAgIH07XG4gIH1cblxuICBzZXRVc2VySW5mbyh7IG5hbWUsIGFib3V0LCBhdmF0YXIgfSkge1xuICAgIGlmIChuYW1lKSB7XG4gICAgICB0aGlzLl9uYW1lRWxlbWVudC50ZXh0Q29udGVudCA9IG5hbWU7XG4gICAgfVxuICAgIGlmIChhYm91dCkge1xuICAgICAgdGhpcy5fYWJvdXRFbGVtZW50LnRleHRDb250ZW50ID0gYWJvdXQ7XG4gICAgfVxuICAgIGlmIChhdmF0YXIgJiYgdGhpcy5fYXZhdGFySW1hZ2UpIHtcbiAgICAgIHRoaXMuX2F2YXRhckltYWdlLnNyYyA9IGF2YXRhcjtcbiAgICB9XG4gIH1cblxuICBnZXRVc2VySWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3VzZXJJZDtcbiAgfVxufVxuIl0sIm5hbWVzIjpbIkZvcm1WYWxpZGF0b3IiLCJjb25zdHJ1Y3RvciIsInNldHRpbmdzIiwiZm9ybUVsZW1lbnQiLCJ0aGlzIiwiX2Zvcm0iLCJfaW5wdXRTZWxlY3RvciIsImlucHV0U2VsZWN0b3IiLCJfc3VibWl0QnV0dG9uU2VsZWN0b3IiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsIl9pbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsIl9pbnB1dEVycm9yQ2xhc3MiLCJpbnB1dEVycm9yQ2xhc3MiLCJfZXJyb3JDbGFzcyIsImVycm9yQ2xhc3MiLCJfZXJyb3JMaXN0IiwiZXJyb3JMaXN0IiwiX2lucHV0RWxlbWVudHMiLCJBcnJheSIsImZyb20iLCJxdWVyeVNlbGVjdG9yQWxsIiwiX3N1Ym1pdEJ1dHRvbiIsInF1ZXJ5U2VsZWN0b3IiLCJfc2hvd0lucHV0RXJyb3IiLCJpbnB1dEVsZW1lbnQiLCJfZXJyb3JNZXNzYWdlRWxlbWVudCIsImlkIiwiY2xhc3NMaXN0IiwiYWRkIiwidGV4dENvbnRlbnQiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsIl9oaWRlSW5wdXRFcnJvciIsInJlbW92ZSIsIl9jaGVja0lucHV0VmFsaWRpdHkiLCJ2YWxpZGl0eSIsInZhbGlkIiwiX2hhc0ludmFsaWRJbnB1dCIsInNvbWUiLCJfdG9nZ2xlQnV0dG9uU3RhdGUiLCJkaXNhYmxlZCIsIl9zZXRFdmVudExpc3RlbmVycyIsImZvckVhY2giLCJhZGRFdmVudExpc3RlbmVyIiwiZSIsImVuYWJsZVZhbGlkYXRpb24iLCJwcmV2ZW50RGVmYXVsdCIsInJlc2V0VmFsaWRhdGlvbiIsInJlc2V0IiwiQ2FyZCIsImRhdGEiLCJjYXJkU2VsZWN0b3IiLCJoYW5kbGVJbWFnZUNsaWNrIiwiaGFuZGxlTGlrZUNhcmQiLCJoYW5kbGVVbmxpa2VDYXJkIiwiaGFuZGxlRGVsZXRlQnV0dG9uQ2xpY2siLCJjdXJyZW50VXNlcklkIiwiX25hbWUiLCJuYW1lIiwiX2xpbmsiLCJsaW5rIiwiX2lkIiwiX2NhcmRTZWxlY3RvciIsIl9kYXRhIiwiX2hhbmRsZUltYWdlQ2xpY2siLCJfaGFuZGxlRGVsZXRlQnV0dG9uQ2xpY2siLCJfaGFuZGxlTGlrZUNhcmQiLCJfaGFuZGxlVW5saWtlQ2FyZCIsIl9jdXJyZW50VXNlcklkIiwiX2NhcmRFbGVtZW50IiwiX2dldFRlbXBsYXRlIiwidGVtcGxhdGUiLCJkb2N1bWVudCIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJfbGlrZUJ1dHRvbiIsIl9kZWxldGVCdXR0b24iLCJfY2FyZEltYWdlRWwiLCJfaGFuZGxlTGlrZUJ1dHRvbiIsImNvbnRhaW5zIiwidGhlbiIsInRvZ2dsZSIsImNhdGNoIiwiZXJyIiwiY29uc29sZSIsImVycm9yIiwiZ2V0VmlldyIsIl9lbGVtZW50Iiwic2V0QXR0cmlidXRlIiwic3JjIiwiYWx0IiwiTW9kYWwiLCJfcmVmIiwibW9kYWxTZWxlY3RvciIsIl9tb2RhbEVsZW1lbnQiLCJfY2xvc2VCdXR0b24iLCJfaGFuZGxlRXNjYXBlS2V5IiwiYmluZCIsIm9wZW4iLCJjbG9zZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJrZXkiLCJ0YXJnZXQiLCJNb2RhbFdpdGhGb3JtIiwiaGFuZGxlRm9ybVN1Ym1pdCIsInN1cGVyIiwiX21vZGFsRm9ybSIsIl9oYW5kbGVGb3JtU3VibWl0IiwiX2dldElucHV0VmFsdWVzIiwiaW5wdXRWYWx1ZXMiLCJpbnB1dCIsInZhbHVlIiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJmb3JtTGlzdCIsInByb2ZpbGVFZGl0QnV0dG9uIiwiYWRkY3JlYXRlQ2FyZEJ1dHRvbiIsImZvcm1zIiwiZm9ybVNlbGVjdG9yIiwibmFtZUlucHV0IiwiYWJvdXRJbnB1dCIsImF2YXRhckltYWdlIiwiYXZhdGFyU2F2ZUJ1dHRvbiIsInByb2ZpbGVTYXZlQnV0dG9uIiwiYWRkQ2FyZFNhdmVCdXR0b24iLCJhcGkiLCJvcHRpb25zIiwiX2Jhc2VVcmwiLCJiYXNlVXJsIiwiX2hlYWRlcnMiLCJoZWFkZXJzIiwiX2NoZWNrUmVzcG9uc2UiLCJyZXMiLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVqZWN0Iiwic3RhdHVzIiwiZ2V0VXNlckluZm9BbmRDYXJkcyIsImFsbCIsImdldFVzZXJJbmZvIiwiZ2V0SW5pdGlhbENhcmRzIiwiZmV0Y2giLCJjcmVhdGVDYXJkIiwiY2FyZERhdGEiLCJtZXRob2QiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsImRlbGV0ZUNhcmQiLCJjYXJkSWQiLCJsaWtlQ2FyZCIsInVubGlrZUNhcmQiLCJ1cGRhdGVVc2VySW5mbyIsInVzZXJJbmZvIiwidXBkYXRlVXNlckF2YXRhciIsImF2YXRhclVybCIsImF2YXRhciIsImF1dGhvcml6YXRpb24iLCJjYXJkc1NlY3Rpb24iLCJjb250YWluZXJTZWxlY3RvciIsIml0ZW1zIiwicmVuZGVyZXIiLCJfcmVuZGVySXRlbXMiLCJfcmVuZGVyZXIiLCJfY29udGFpbmVyIiwicmVuZGVySXRlbXMiLCJyZXZlcnNlIiwiaXRlbSIsImFkZEl0ZW0iLCJwcmVwZW5kIiwiZ2V0SXRlbSIsIml0ZW1JZCIsImZpbmQiLCJjYXJkRWxlbWVudCIsInByb2ZpbGVNb2RhbCIsInVwZGF0ZWRVc2VySW5mbyIsImFib3V0IiwidXBkYXRlZERhdGEiLCJzZXRVc2VySW5mbyIsImZpbmFsbHkiLCJjYXJkTW9kYWwiLCJ0aXRsZSIsImltYWdlIiwibmV3Q2FyZCIsInByZXZpZXdJbWFnZU1vZGFsIiwiX21vZGFsSW1hZ2UiLCJfbW9kYWxJbWFnZUNhcHRpb24iLCJhdmF0YXJFZGl0TW9kYWwiLCJoYW5kbGVBdmF0YXJJbWFnZVN1Ym1pdCIsIl9pbnB1dEVsZW1lbnQiLCJfZXJyb3JFbGVtZW50IiwiX2hhbmRsZUF2YXRhckltYWdlU3VibWl0IiwibG9nIiwiZXZlbnQiLCJ0cmltIiwiZGVsZXRlQ2FyZE1vZGFsIiwiaGFuZGxlRGVsZXRlQ2FyZFN1Ym1pdCIsIl9oYW5kbGVEZWxldGVDYXJkU3VibWl0IiwiX2NvbmZpcm1CdXR0b24iLCJkYXRhc2V0IiwiY2FyZElkVG9EZWxldGUiLCJuYW1lRWxlbWVudFNlbGVjdG9yIiwiYWJvdXRFbGVtZW50U2VsZWN0b3IiLCJhdmF0YXJJbWFnZVNlbGVjdG9yIiwiX25hbWVFbGVtZW50IiwiX2Fib3V0RWxlbWVudCIsIl9hdmF0YXJJbWFnZSIsIl9yZWYyIiwiZ2V0VXNlcklkIiwiX3VzZXJJZCIsInVzZXJEYXRhIiwiaW5pdGlhbENhcmRzIiwiY3VycmVudFVzZXIiLCJmb3JtVmFsaWRhdG9ycyIsImZvcm0iLCJmb3JtVmFsaWRhdG9yIiwiZ2V0QXR0cmlidXRlIl0sInNvdXJjZVJvb3QiOiIifQ==